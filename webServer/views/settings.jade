extends navbar_fixed_top

block content
	- var n = 0
	- var currCategory = rows[0]["category"]
	.container.main
		while n < rows.length
			.jumbotron.categories
				button.btn.btn-danger.delete-category(style="float:right;") x
				label.control-label.editH2(for="category")
					h2.text-info= rows[n]["category"]
					input.form-control(type="hidden", value= rows[n]["category"])
				br
				label.control-label(for="allowedTime") Allowed Time:
					div.input-group.timeAllowed
						input.form-control.time(type="number",placeholder=(Math.floor(parseInt(rows[n]["timeAllowed"])/3600)).toString(),value=(Math.floor(parseInt(rows[n]["timeAllowed"])/3600)).toString(), min="0", aria-describedby="sizing-addon2")
						span.input-group-addon  hours
						input.form-control.time(type="number",placeholder=(Math.floor(parseInt(rows[n]["timeAllowed"])/60)%60).toString(), value=(Math.floor(parseInt(rows[n]["timeAllowed"])/60)%60).toString(), min="0", aria-describedby="sizing-addon2")
						span.input-group-addon  minutes
				br
				label.control-label(for="timeRemaining") Remaining Time:
					div.input-group.timeRemaining
						input.form-control.time(type="number", disabled="",value=(Math.floor(parseInt(rows[n]["timeRemaining"])/3600)).toString(), min="0", aria-describedby="sizing-addon2")
						span.input-group-addon  hours
						input.form-control.time(type="number",disabled="", min="0", value=(Math.floor(parseInt(rows[n]["timeRemaining"])/60)%60).toString(), aria-describedby="sizing-addon2")
						span.input-group-addon  minutes
				div.form-group
					label(for="sel1") Reset Interval:
						select.form-control.reset-interval(id="sel1")
							each val,index in resetIntervals
								if parseInt(index) == rows[n]["resetInterval"]
									option(selected="selected", value=index)= val
								else
									option(value=index)= val
						input(type="hidden", value= rows[n]["resetInterval"])
						-console.log(rows[n])

				div.form-group
					label(for="sel1") Type:
						select.form-control.type(id="sel1")
							each type in setting_types
								if type != rows[n]["type"]
									option= type
								else
									option(selected="selected")=type 
						input(type="hidden", value= rows[n]["type"])

				while n < rows.length && currCategory === rows[n]["category"]
					if(("domainName" in rows[n]))
						.input-group()
							span.input-group-btn.edit-url-btn
								button.btn.btn-default(  type="button") Edit!
							input.form-control(type="text", value= rows[n]["domainName"], disabled='')
							span.input-group-btn.delete-url
								button.btn.btn-default(type='button') Delete!
						input(type="hidden", value= rows[n]["domainName"])
					- n++
				button.btn.btn-default.add-url(type='button') +

				

			if n < rows.length
				-currCategory = rows[n]["category"]
